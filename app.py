import streamlit as st
from pathlib import Path
import os
import sys

# æ·»åŠ é¡¹ç›®æ ¹ç›®å½•åˆ°ç³»ç»Ÿè·¯å¾„
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

# è®¾ç½®é¡µé¢é…ç½®
st.set_page_config(
    page_title="æ¿å—æ•°æ®åˆ†æç³»ç»Ÿ",
    page_icon="ğŸ“ˆ",
    layout="wide",
    initial_sidebar_state="expanded"
)

# è®¾ç½®é¡µé¢æ ·å¼
st.markdown("""
    <style>
    .main {
        padding: 0rem 1rem;
    }
    .stButton>button {
        width: 100%;
    }
    .stSelectbox {
        margin-bottom: 1rem;
    }
    #MainMenu {visibility: hidden;}
    footer {visibility: hidden;}
    </style>
    """, unsafe_allow_html=True)

# æ˜¾ç¤ºç³»ç»Ÿæ ‡é¢˜å’Œæ¬¢è¿ä¿¡æ¯
st.title("ğŸ“Š æ¿å—æ•°æ®åˆ†æç³»ç»Ÿ")

st.markdown("### ğŸ‘‹ æ¬¢è¿ä½¿ç”¨æ¿å—æ•°æ®åˆ†æç³»ç»Ÿ")

st.markdown("æœ¬ç³»ç»Ÿæä¾›ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š")

st.markdown("""
- ğŸ“ˆ æ¡ä»¶é€‰æ¿å— - åŸºäºæ¶¨å¹…ã€èµ„é‡‘æµå‘ã€æˆäº¤é‡ç­‰å¤šç»´æŒ‡æ ‡ç­›é€‰æ¿å—
- ğŸ“Œ é‡ç‚¹æ¿å—è·Ÿè¸ª - å®æ—¶ç›‘æ§æ¿å—æ¶¨è·Œã€èµ„é‡‘æµå‘ã€é¾™å¤´è‚¡è¡¨ç°
- ğŸ” æ¿å—è‚¡ç¥¨åˆ†æ - æ·±å…¥åˆ†ææ¿å—å†…ä¸ªè‚¡è¡¨ç°ï¼Œå‘ç°ä¼˜è´¨æ ‡çš„
- ğŸ“Š æ•°æ®å¯è§†åŒ– - ä¸°å¯Œçš„å›¾è¡¨å±•ç¤ºï¼Œæ”¯æŒå¤šç»´åº¦æ•°æ®åˆ†æ
  - æ¿å—èµ„é‡‘æµå‘ï¼šä¸»åŠ›èµ„é‡‘ã€æ•£æˆ·èµ„é‡‘ã€å‡€æµå…¥åˆ†æ
  - é¾™å¤´è‚¡åˆ†æï¼šæ¿å—å†…ä¸ªè‚¡æ¶¨è·Œã€æˆäº¤é‡ã€æ¢æ‰‹ç‡åˆ†æ
  - å¤šç»´å¯¹æ¯”ï¼šæ”¯æŒæ¿å—é—´ã€ä¸ªè‚¡é—´å¤šæŒ‡æ ‡å¯¹æ¯”
- ğŸ”„ æ•°æ®åŒæ­¥ç®¡ç† 
  - è‡ªåŠ¨åŒæ­¥ï¼šå®šæ—¶æ›´æ–°æ¿å—ã€ä¸ªè‚¡æœ€æ–°æ•°æ®
  - æ•°æ®æ ¡éªŒï¼šç¡®ä¿æ•°æ®å‡†ç¡®æ€§å’Œå®Œæ•´æ€§
- ğŸ’¾ æ•°æ®å¯¼å‡º - æ”¯æŒExcelæ ¼å¼å¯¼å‡ºï¼Œä¾¿äºæ·±å…¥ç ”ç©¶
- ğŸ› ï¸ è¾…åŠ©å·¥å…·é›†
  - æ¿å—ç®¡ç†ï¼šæ”¯æŒè‡ªå®šä¹‰æ¿å—åˆ†ç»„å’Œæ ‡è®°
  - æ•°æ®æ—¥æœŸç®¡ç†ï¼šçµå¯Œçš„æ•°æ®ç®¡ç†å’Œç»´æŠ¤åŠŸèƒ½
""")

# ç‰ˆæœ¬ä¿¡æ¯
with st.expander("ç‰ˆæœ¬ä¿¡æ¯", expanded=False):
    st.write("å½“å‰ç‰ˆæœ¬: 1.5.0")
    st.write("æ›´æ–°æ—¥å¿—:")
    st.markdown("""
    - æ–°å¢å…¨å±€æ¿å—é€‰æ‹©åŠŸèƒ½
    - æ–°å¢å¸¸ç”¨æ¿å—æ”¶è—åŠŸèƒ½
    - ä¼˜åŒ–æ¿å—å¯¹æ¯”æ¨¡å¼ï¼Œæ”¯æŒå¤šç»´åº¦åˆ†æ
    - å¢åŠ æ•°æ®æ—¥æœŸç®¡ç†å·¥å…·
    - ä¿®å¤å·²çŸ¥é—®é¢˜ï¼Œæå‡ç³»ç»Ÿç¨³å®šæ€§
    """)

# æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€
with st.sidebar:
    st.markdown("### ç³»ç»ŸçŠ¶æ€")
    
    # å…¼å®¹ä»ä¸åŒç›®å½•å¯åŠ¨åº”ç”¨çš„æƒ…å†µ
    current_dir_config = Path("config/.env")
    parent_dir_config = Path("../project/config/.env")
    script_dir_config = Path(__file__).parent / "config" / ".env"
    
    if current_dir_config.exists() or parent_dir_config.exists() or script_dir_config.exists():
        st.success("âœ… æ•°æ®åº“é…ç½®å·²å°±ç»ª")
    else:
        st.warning("âš ï¸ æœªæ£€æµ‹åˆ°æ•°æ®åº“é…ç½®") 